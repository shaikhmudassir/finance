CREATE TABLE IF NOT EXISTS 'users' ('id' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, 'username' TEXT NOT NULL, 'hash' TEXT NOT NULL, 'cash' NUMERIC NOT NULL DEFAULT 10000.00 );

CREATE UNIQUE INDEX 'username' ON "users" ("username");

CREATE TABLE sqlite_sequence(name,seq);

CREATE TABLE IF NOT EXISTS 'details' (
'id' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
'user_id' INTEGER NOT NULL,
'symbol' TEXT NOT NULL,
'name' TEXT ,
'shares' NUMERIC NOT NULL,
'price' NUMERIC NOT NULL,
'datetime' DATETIME NOT NULL,
FOREIGN KEY(user_id) REFERENCES users(id));

CREATE TABLE IF NOT EXISTS 'history' (
'id' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
'user_id' INTEGER NOT NULL,
'symbol' TEXT NOT NULL,
'shares' NUMERIC NOT NULL,
'price' NUMERIC NOT NULL,
'datetime' DATETIME NOT NULL,
'cond' NUMERIC NOT NULL DEFAULT 0,
FOREIGN KEY(user_id) REFERENCES users(id));